# Internationalization (i18n)

ccusage provides comprehensive internationalization support, allowing you to use the tool in your preferred language. All user-facing text, including error messages, table headers, and status information, can be displayed in multiple languages.

## Supported Languages

ccusage currently supports the following languages:

| Language | Code | Native Name |
|----------|------|-------------|
| English | `en` | English |
| French | `fr` | Français |
| Spanish | `es` | Español |
| German | `de` | Deutsch |
| Japanese | `ja` | 日本語 |
| Chinese (Simplified) | `zh` | 中文 |

## Setting Your Language

### Command Line Option

Use the `--lang` option to specify your preferred language:

```bash
# French
ccusage --lang=fr

# Spanish  
ccusage daily --lang=es

# German
ccusage monthly --lang=de

# Japanese
ccusage session --lang=ja

# Chinese
ccusage blocks --lang=zh
```

### Environment Variables

You can set your language preference using environment variables:

```bash
# Using LANG environment variable
export LANG=fr_FR.UTF-8
ccusage

# Using LC_ALL environment variable
export LC_ALL=es_ES.UTF-8
ccusage daily
```

### Automatic Detection

When no language is explicitly specified, ccusage will automatically detect your system locale:

1. **CLI argument**: `--lang=xx` (highest priority)
2. **Environment variables**: `LANG`, `LC_ALL`, `LC_MESSAGES`
3. **System locale**: Falls back to system default
4. **Default fallback**: English (`en`)

## What Gets Translated

ccusage provides complete internationalization coverage for:

### User Interface Elements
- Command descriptions and help text
- Command-line argument descriptions
- Table headers and column names
- Status messages and indicators

### Report Content
- Report titles and headers
- Table column headers (Date, Models, Input, Output, etc.)
- Cost and token display labels
- Time and duration formatting

### System Messages
- Error messages and warnings
- Information and status updates
- Debug output and diagnostics
- Pricing and data loading messages

### Live Monitoring
- Real-time dashboard labels
- Status indicators (Active, Inactive, Gap)
- Progress and projection displays
- Token limit warnings

## Examples by Language

### English (Default)
```bash
ccusage --lang=en
```
```
┌────────────┬─────────────┬─────────┬────────┬──────────────┬────────────┬───────────────┬─────────────┐
│ Date       │ Models      │   Input │ Output │ Cache Create │ Cache Read │ Total Tokens  │ Cost (USD)  │
├────────────┼─────────────┼─────────┼────────┼──────────────┼────────────┼───────────────┼─────────────┤
│ 2025-07-08 │ • sonnet-4  │       6 │     19 │       13,715 │     12,844 │        26,584 │     $0.06   │
└────────────┴─────────────┴─────────┴────────┴──────────────┴────────────┴───────────────┴─────────────┘
```

### French
```bash
ccusage --lang=fr
```
```
┌────────────┬─────────────┬─────────┬────────┬─────────────┬───────────┬───────────────┬─────────────┐
│ Date       │ Modèles     │  Entrée │ Sortie │ Cache Créé  │ Cache Lu  │ Total tokens  │ Coût (USD)  │
├────────────┼─────────────┼─────────┼────────┼─────────────┼───────────┼───────────────┼─────────────┤
│ 2025-07-08 │ • sonnet-4  │       6 │     19 │      13,715 │    12,844 │        26,584 │     0,06 €  │
└────────────┴─────────────┴─────────┴────────┴─────────────┴───────────┴───────────────┴─────────────┘
```

### Spanish
```bash
ccusage --lang=es
```
```
┌───────────┬─────────────┬─────────┬────────┬─────────────┬────────────┬────────────────┬─────────────┐
│ Fecha     │ Modelos     │ Entrada │ Salida │ Crear Cache │ Leer Cache │ Tokens totales │ Costo (USD) │
├───────────┼─────────────┼─────────┼────────┼─────────────┼────────────┼────────────────┼─────────────┤
│ 2025-07-08│ • sonnet-4  │       6 │     19 │      13,715 │     12,844 │         26,584 │     $0.06   │
└───────────┴─────────────┴─────────┴────────┴─────────────┴────────────┴────────────────┴─────────────┘
```

### German
```bash
ccusage --lang=de
```
```
┌───────────┬─────────────┬──────────┬──────────┬────────────────┬────────────┬─────────────┬─────────────┐
│ Datum     │ Modelle     │  Eingabe │  Ausgabe │ Cache Erstellen│ Cache Lesen│ Gesamt-Token│ Kosten (USD)│
├───────────┼─────────────┼──────────┼──────────┼────────────────┼────────────┼─────────────┼─────────────┤
│ 2025-07-08│ • sonnet-4  │        6 │       19 │         13,715 │     12,844 │      26,584 │     $0.06   │
└───────────┴─────────────┴──────────┴──────────┴────────────────┴────────────┴─────────────┴─────────────┘
```

### Japanese
```bash
ccusage --lang=ja
```
```
┌───────────┬─────────────┬──────┬──────┬──────────────┬──────────────┬─────────┬─────────────┐
│ 日付      │ モデル       │ 入力 │ 出力  │キャッシュ作成 │ キャッシュ読取│総トークン│ コスト(USD)│
├───────────┼─────────────┼──────┼──────┼──────────────┼──────────────┼─────────┼─────────────┤
│ 2025-07-08│ • sonnet-4  │    6 │   19 │       13,715 │       12,844 │  26,584 │      $0.06  │
└───────────┴─────────────┴──────┴──────┴──────────────┴──────────────┴─────────┴─────────────┘
```

### Chinese (Simplified)
```bash
ccusage --lang=zh
```
```
┌───────────┬─────────────┬──────┬──────┬──────────┬──────────┬─────────┬─────────────┐
│ 日期       │ 模型        │ 输入 │ 输出  │ 创建缓存 │ 读取缓存  │ 总令牌  │ 成本 (USD)   │
├───────────┼─────────────┼──────┼──────┼──────────┼──────────┼─────────┼─────────────┤
│ 2025-07-08│ • sonnet-4  │    6 │   19 │   13,715 │   12,844 │  26,584 │      $0.06  │
└───────────┴─────────────┴──────┴──────┴──────────┴──────────┴─────────┴─────────────┘
```

## All Commands Support i18n

Every ccusage command respects your language preference:

```bash
# Daily reports
ccusage daily --lang=fr

# Monthly reports  
ccusage monthly --lang=es

# Session reports
ccusage session --lang=de

# Block reports
ccusage blocks --lang=ja

# Live monitoring
ccusage blocks --live --lang=zh

# MCP server
ccusage mcp --lang=fr
```

## Error Messages and Warnings

All error messages and warnings are also localized:

### English
```
❌ No valid Claude data directory found
⚠️  Failed to fetch model pricing from LiteLLM, falling back to cached pricing data
ℹ️  Loaded pricing for 1142 models
```

### French
```
❌ Aucun répertoire de données Claude valide trouvé
⚠️  Échec de récupération des tarifs depuis LiteLLM, utilisation des données en cache
ℹ️  Tarifs chargés pour 1142 modèles
```

### Spanish
```
❌ No se encontró directorio de datos de Claude válido
⚠️  Error al obtener precios desde LiteLLM, usando datos en caché
ℹ️  Precios cargados para 1142 modelos
```

## JSON Output

When using `--json` output, the data structure remains the same regardless of language, ensuring compatibility with scripts and automation tools:

```bash
ccusage daily --json --lang=any
```

```json
{
  "daily": [
    {
      "date": "2025-07-08",
      "inputTokens": 6,
      "outputTokens": 19,
      "cacheCreationTokens": 13715,
      "cacheReadTokens": 12844,
      "totalTokens": 26584,
      "totalCost": 0.06,
      "modelsUsed": ["claude-3-5-sonnet-20241022"],
      "modelBreakdowns": {...}
    }
  ]
}
```

## Implementation Details

ccusage uses a robust internationalization system that:

- **Automatic Fallback**: Falls back to English if a translation is missing
- **Complete Coverage**: All user-facing text is translatable
- **Performance Optimized**: Translations are loaded efficiently without impacting startup time
- **Validation**: All translation files are validated for completeness and consistency
- **Extensible**: New languages can be easily added

### Translation Coverage

The i18n system covers:

- ✅ Command descriptions and help text
- ✅ All CLI argument descriptions  
- ✅ Report headers and titles
- ✅ Table column headers
- ✅ Error messages and warnings
- ✅ Status messages and indicators
- ✅ Live monitoring interface
- ✅ Debug output and diagnostics
- ✅ Pricing and loading messages

## Contributing Translations

We welcome contributions for additional languages! Translation files are located in the `locales/` directory and use a simple JSON structure. See our [Contributing Guide](../adding-languages.md) for details on adding new languages or improving existing translations.

## Troubleshooting

### Language Not Displaying Correctly

1. **Check your locale**: Ensure your system locale is properly configured
2. **Try explicit language**: Use `--lang=xx` to force a specific language
3. **Terminal encoding**: Ensure your terminal supports UTF-8 encoding
4. **Font support**: Verify your terminal font supports the character set (especially for Japanese/Chinese)

### Partial Translation

If you see mixed languages:
1. Check for the latest version: `bunx ccusage@latest`
2. Report missing translations on our [GitHub issues](https://github.com/ryoppippi/ccusage/issues)

### Performance Impact

Internationalization has minimal performance impact:
- Translation files are small and loaded efficiently
- No network requests for translations
- Caching ensures fast subsequent loads
- Bundle size impact is negligible
